/* 
 * ---------------------------------------- *
 * Name: 	Responsive						*
 * Type: 	JavaScript Class                *
 * Version: 2.0.0                           *
 * Author:	Matt O'Neill                    *
 * Status:	Release		                    *
 * ---------------------------------------- *
 */

window.Responsive || (window.Responsive = {}), window.Responsive = function e() { "use strict"; function n() { var e = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth, n = [], i = [], t = this; t.mode = 0; var r = function (e) { for (var n = 0; n < e.methods.length; n++) "function" == typeof e.methods[n] && e.methods[n].call(this, e.event) }, o = function (o) { e = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth; var a = 0; for (var s in i) { if (s >= e || a === i.length - 1) { "undefined" != typeof i[s] && (n[s] || r({ methods: i[s], event: o }), c(s)), t.mode = s; break } a++ } }, a = function () { function e() { o("resize") } var n; window.onresize = function (i) { o("resize"), clearTimeout(n), n = setTimeout(function () { e() }, 100) } }, c = function (e) { for (var i in n) n[i] = !1; n[e] = !0 }, s = function () { function e(e) { for (var n = 0; n < e.length; n++) i[r].push(e[n]) } var t = arguments[0]; for (var r in t) { var o = t[r]; "function" == typeof o && (o = [o]), "undefined" != typeof i[r] ? e(o) : (i[r] = o, n.push(r)) } }; return a(), { register: s, trigger: a } } function i() { var e = [], n = "undefined" != typeof window.document.createElement("div").style.objectFit, i = { container: function () { for (var e, n = this.parentNode; 9 !== n.nodeType;) { if ((" " + n.className + " ").indexOf(" image-fit-container ") > -1) { e = n; break } n = n.parentNode } return e }, objectFit: !0, useMargins: !1, resize: !0, checkOnResize: !1, onPreLoad: function () { }, onCheck: function () { }, onSet: function () { } }, t = { handleElems: function (e) { var n = []; if ("undefined" != typeof e && null !== e) if ("undefined" == typeof e.length) n.push(e); else if (e.length) for (var i = 0; i < e.length; i += 1) n.push(e[i]); return n }, checkCallback: function (e, n) { "function" == typeof e && e.call(n) }, merge: function () { for (var e, n = {}, i = 0; i < arguments.length; i += 1) { e = arguments[i]; for (var t in e) e.hasOwnProperty(t) && (n[t] = e[t]) } return n }, addClass: function (e, n) { var i = " " + e.className + " ", t = n.split(" "), r = "", o = 0; for (o; o < t.length; o += 1) -1 === i.indexOf(" " + t[o] + " ") && "" !== t[o] && (r += " " + t[o]); e.className += r }, removeClass: function (e, n) { var i = " " + e.className + " ", t = n.split(" "), r = 0; for (r; r < t.length; r += 1) i = i.replace(" " + t[r] + " ", " "); e.className = i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "") } }, r = { resize: { timer: void 0, bind: function (n, i) { n.resize && i && e.push(n) }, check: function (e) { e.checkOnResize ? r.run(e, !1) : r.checkAndSet(e) }, run: function () { e.length && (r.resize.timer && clearTimeout(r.resize.timer), r.resize.timer = setTimeout(function () { var n = 0; for (n; n < e.length; n += 1) r.resize.check(e[n]) }, 100)) } }, checkAndSet: function (e) { t.removeClass(e.img, "fitted-tall fitted-wide"), t.checkCallback(e.onCheck, e.img); var n = e.img.clientHeight / e.img.clientWidth * 100, i = e.container.clientHeight / e.container.clientWidth * 100, r = i > n ? "fitted-tall" : "fitted-wide"; t.addClass(e.img, "fitted " + r), e.useMargins && (t.addClass(e.img, "fitted-margins"), "fitted-tall" === r ? (e.img.style.marginLeft = -(e.img.clientWidth / 2) + "px", e.img.style.marginTop = "") : (e.img.style.marginLeft = "", e.img.style.marginTop = -(e.img.clientHeight / 2) + "px")), t.checkCallback(e.onSet, e.img) }, run: function (e, i) { var o = new Image; return t.checkCallback(e.onPreLoad, e.img), e.objectFit && n ? (t.addClass(e.img, "fitted fitted-object-fit"), void (e.checkOnResize && r.resize.bind(e, i))) : (o.onload = function () { r.checkAndSet(e), r.resize.bind(e, i) }, o.onerror = function () { t.addClass(e.img, "fitted-error") }, void (o.src = e.img.currentSrc || e.img.src)) }, prep: function (e) { "function" == typeof e.container && (e.container = e.container.call(e.img)), e.container = t.handleElems(e.container), e.container.length && (e.container = e.container[0], e.img.imageFitData = e, r.run(e, !0)) }, init: function (e, n) { var o = "string" == typeof n && "update" === n; e = t.handleElems(e); for (var a = 0; a < e.length; a += 1) o && "undefined" != typeof e[a].imageFitData ? r.run(e[a].imageFitData, !1) : r.prep(t.merge(i, n, { img: e[a] })) } }; return "undefined" != typeof window.addEventListener ? window.addEventListener("resize", r.resize.run) : window.attachEvent("onresize", r.resize.run), "undefined" != typeof $ && null !== $ && ($.fn.fluidImages = function (e) { return r.init(this, e), this }), this.init = r.init, this } var t = new n, r = new i; return e.prototype.api = { register: t.register, trigger: t.trigger, enableFluidImages: r.init }, this };